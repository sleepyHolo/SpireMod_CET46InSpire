# 别忘了四六级 CET46 In Spire
这个模组想法来自Noita的同名模组. [Noita创意工坊-别忘了四六级](https://steamcommunity.com/sharedfiles/filedetails/?id=3404422065&searchtext=%E5%88%AB%E5%BF%98%E4%BA%86).

**添加系列遗物**: 每当你打出一张卡牌, 会触发一个指定词库范围内的小单词测验, 你的测验得分会影响你**所有**攻击和格挡的获得倍率. 测验得分在每次测验后更新, 或是在回合结束或战斗结束时复位.  
**添加新事件**: 在第0层的涅奥房间结束时强制进入事件, 此事件会提醒你距离下一次CET还有多久, 同时允许你选择遗物的词库范围(也可以选择不拿遗物, 那么就和正常游戏没有区别).  
**增加临时错题本**: 现在, 同一局中获得0分的题目将被放入错题本中, 随时可以通过右键单击遗物启用错题回顾. 错题回顾得分将在高于目前得分的情况下替换得分, 错题回顾不影响常规连胜作答统计. 每场战斗第一次完美回答错题正确能够获得一瓶随机药水(如果没有错题就能免费获得一瓶随机药水). 目前, 错题仅能在同一局游戏中保存, 不同局的错题数据目前无法互通.  
可以在模组配置中调节部分设置. 此部分请于游戏配置面板确认.  

## 词库来源
词库来自AnkiWeb, 通过`re`解析html获取单词释义.  
CET4: [大学英语四级单词(词典重制完美版)](https://ankiweb.net/shared/info/1378032490)  
CET6: [大学六级英语单词全集（修订版）](https://ankiweb.net/shared/info/2125686844)  
如有侵权请告知, 我将立即删除词库.  
JLPT: 感谢5mdld的授权, 词库仓库: https://github.com/5mdld/anki-jlpt-decks

以下为旧版本词库来源  
~~原始词库来自新东方的pdf版本: [新东方-2024最新英语四六级词汇完整版](https://cet4-6.xdf.cn/202409/13925649.html).~~  
~~原始词库通过Python解析得到`UIString`格式的json文件, 由于解析脚本处理部分情况并不理想, 因此词库其实存在很多问题.~~  
~~PS: Python解析用的是`pdfplumber`和`re`, 很明显后者并不靠谱.~~

## 本地化
目前模组拥有简体中文和英文文本. 当游戏设置为简体中文或繁体中文时启用简体中文文本, 其余语言设置启用英文文本.  
无论使用何种语言, 单词的中文释义都是简体中文.  

## 兼容性
此模组为downfall的崩坠模式配置了兼容性. 结束心脏房间后也将进入CET事件. 在此种情况下SL将返回心脏事件之初(而非常规涅奥事件末尾).

## 备注
CET计划时间是通过硬编码写进去的, 因此可能每半年需要更新一次考试时间.  

## Issues & PRs
**我们需要词库!** 老实说我自认为这个mod扩展性挺好的, 要什么CET6, CJT都可以很快实现, 但是词库这个没办法.  
欢迎任何建议. 
